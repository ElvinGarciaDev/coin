<%- include('partials/header-dashboard') -%>

<body>
  <main>
    <!--SM: I put a very basic layout so that it would be easier for people to insert their sections where specified and it will be a clean, unified look without CSS miscommunications and mishaps-->

    <body>
      <main>
         <!-- Isaiah's Contributions -->
        <!----------------SM: BOOTSTRAP CREATED TEMPLATE ------------------------>
        <div class="container-fluid">
          <div class="row top-area">
            <div class="col-md-6">
              <div id="nav">
                <label
                  ><span>REFRESH CHART </span>
                  <button id="refresh">‚ü≥</button>
                </label>
             
                <label class="text-white"
                  ><span>Filter By User </span>
                  <select name="user-filter" id="user-filter" class="text-white d-none" > 
                    <option value="<%= user.id %>"><%= user.userName %></option>"></option>

                  </select>
                  
                </label>
        
              </div>
              <!----------------SM, SB: !!PLEASE REPLACE WITH PIE CHART!! ------------------------>
              <div id="pie-chart-area">
                <div id="chart"></div>
              </div>
            </div>

            <div class="col-md-6 total-amount-area horizontal align">
              <!----------------SM: !!PLEASE REPLACE WITH EXPENSES TOTAL AND BUTTONS!! ------------------------>

              <!----------------SM: add new expense and add new income buttons ------------------------>
              <div>
                <% let total = 0 %>
                <% for (let i in expense) { %>
                  <% total += expense[i].expenseCost %>
                <% } %>
                <h3 id="total-amount"><%= total %></h3>
              </div>
              <div class="total-links">
                <a href="/expense" class="btn btn-primary">Expense</a>
                <a href="/income" class="btn btn-primary">Income</a>
              </div>
            </div>
          </div>
        </div>
          <div class="row">
            <div class="col-md-6">
              <!----------------JM, SB: INCOME TABLE TO POPULATE MONTHLY INCOME INPUTS ------------------------>
              <table class="table">
                <thead>
                  <tr>
                    <th>Month</th>
                    <th>Income</th>
                    <th>Edit</th>
                    <th>Delete</th>
                  </tr>
                </thead>
                <!-- DB CONTRIBUTION - SARAH B -->
                <tbody>
                  <tr>
                    <% for(let i=0; i < income.length; i++) { %>
                    <td><%= income[i].date %></td>
                    <td class="updateIncome"><%= income[i].income %></td>
                    <td data-id=<%= income[i]._id %>><button id="incomeTableEdit">Edit</button></td>
                    <td data-id=<%= income[i]._id %>><button id="incomeTableDelete">Delete</button></td>
                  </tr>
                  <% } %>
                </tbody>
              </table>
            </div>

            <div class="col-md-6">
              <!----------------SM: !!PLEASE REPLACE WITH RECURRING BILLS TABLE!! ------------------------>
              <table class="table">
                <thead>
                  <tr>
                    <th>Date & Time</th>
                    <th>Expense</th>
                    <th>Amount</th>
                    <th>Category</th>
                    <th>Edit</th>
                    <th>Delete</th>
                  </tr>
                </thead>
                 <!-- DB CONTRIBUTION - SARAH B -->
                <tbody>
                  <tr>
                    <% for(let i=0; i < expense.length; i++) { %>
                    <td><%= expense[i].date %></td>
                    <td><%= expense[i].expenseName %></td>
                    <td class="updateExpenseCost"><%= expense[i].expenseCost %></td>
                    <td><%= expense[i].category %></td>
                    <!--SM EDIT AND DELETE BUTTONS-->
                    <td data-id=<%= expense[i]._id %>><button id="expenseTableEdit">Edit</button></td>
                    <td data-id=<%= expense[i]._id %>><button id="expenseTableDelete">Delete</button></td>
                 
                  </tr>
                  <% } %>
                </tbody>
              </table>
            </div>
          </div>
      </main>
    </body>
    <%- include('partials/footer') -%>
  </main>
</body>
